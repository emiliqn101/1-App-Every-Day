{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encryption Visualization</title>
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
</head>
<body>
    <main>
        <section class="hero">
            <h1>Welcome To My Encryption Visualization Project</h1>
            <p>Your project description goes here.</p>
            <form id="myForm">
                <label for="inputField">Enter something:</label>
                <input type="text" id="inputField" name="inputField" class="input-field">
                <label for="shiftValue">Shift Value:</label>
                <input type="number" id="shiftValue" name="shiftValue" class="input-field" value="1">
                <button type="submit" class="submit-button">Submit</button>
            </form>            
        </section>
        <div class="wrapper">
            <div class="item" id="letterA">A</div>
            <div class="item" id="letterB">B</div>
            <div class="item" id="letterC">C</div>
            <div class="item" id="letterD">D</div>
            <div class="item" id="letterE">E</div>
            <div class="item" id="letterF">F</div>
            <div class="item" id="letterG">G</div>
            <div class="item" id="letterH">H</div>
            <div class="item" id="letterI">I</div>
            <div class="item" id="letterJ">J</div>
            <div class="item" id="letterK">K</div>
            <div class="item" id="letterL">L</div>
            <div class="item" id="letterM">M</div>
            <div class="item" id="letterN">N</div>
            <div class="item" id="letterO">O</div>
            <div class="item" id="letterP">P</div>
            <div class="item" id="letterQ">Q</div>
            <div class="item" id="letterR">R</div>
            <div class="item" id="letterS">S</div>
            <div class="item" id="letterT">T</div>
            <div class="item" id="letterU">U</div>
            <div class="item" id="letterV">V</div>
            <div class="item" id="letterW">W</div>
            <div class="item" id="letterX">X</div>
            <div class="item" id="letterY">Y</div>
            <div class="item" id="letterZ">Z</div>
        </div>
        
        <!-- Add a container to display the encoded text -->
        <div id="encodedTextContainer">
            <div id="encodedText">Encoded Text: [Display Encoded Text Here]</div>
        </div>
        
    </main>

    <script>
        // Caesar cipher function
        function caesarCipher(text, shift) {
            return text.split('').map(char => {
                    if (char.match(/[a-z]/i)) {
                        const code = char.charCodeAt(0);
                        const offset = code < 91 ? 65 : 97;
                        const shiftedCode = ((code - offset + shift) % 26 + 26) % 26 + offset;
                        return String.fromCharCode(shiftedCode);
                    }
                    return char;
                })
                .join('');
        }

                // Initialize the shift value
        let currentShiftValue = 1; // Default shift value

        // Function to handle form submission
        function handleFormSubmission(event) {
            event.preventDefault();  // Prevent the default form submission behavior

            // Handle the form data
            const inputField = document.getElementById('inputField');
            const userInput = inputField.value;

            // Read the user-specified shift value
            const shiftInput = document.getElementById('shiftValue');
            currentShiftValue = parseInt(shiftInput.value) || currentShiftValue;

            // Encode the user's input with the specified shift value
            const encodedText = caesarCipher(userInput, currentShiftValue);


            
            // Get the first letter and convert to uppercase
            for (const char of encodedText){
                scrollToElement(char);
                
            }








            // Display the encoded text
            const encodedTextContainer = document.getElementById('encodedText');
            encodedTextContainer.textContent = 'Encoded Text: ' + encodedText;

            // Clear the input field
            inputField.value = '';
        }
        function scrollToElement(letter) {
            const Element = document.getElementById('letter'+letter.toUpperCase());
            Element.scrollIntoView({ behavior: 'smooth' });
        }
        

        // Set up the form submission handler
        document.getElementById('myForm').addEventListener('submit', handleFormSubmission);

        // Handle initial shift value when the page loads
        const shiftInput = document.getElementById('shiftValue');
        shiftInput.value = currentShiftValue;

    </script>
</body>
</html>
